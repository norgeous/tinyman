(this.webpackJsonptinyman=this.webpackJsonptinyman||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},31:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=31},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(2),r=n.n(i),s=n(15),l=n.n(s),a=(n(28),n(3)),o=n.n(a),j=n(7),d=n(6),u=n(8),b=n.n(u),v=function(e,t){var n=Object(i.useState)(Date.now()),c=Object(d.a)(n,2),r=c[0],s=c[1],l=Object(i.useState)(Date.now()),a=Object(d.a)(l,2),u=a[0],v=a[1],O=Object(i.useState)(null),h=Object(d.a)(O,2),x=h[0],f=h[1],p=Object(i.useState)(null),m=Object(d.a)(p,2),y=m[0],k=m[1];return Object(i.useEffect)((function(){if("offline"!==x){var e=setInterval((function(){s(Date.now())}),1e3);return function(){return clearInterval(e)}}}),[x]),Object(i.useEffect)((function(){["loading","offline"].includes(x)||(r>u?function(){var n=Object(j.a)(o.a.mark((function n(){var c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f("loading"),n.next=4,b()(e);case 4:return c=n.sent,n.next=7,c.json();case 7:i=n.sent,k(t?t(i):i),v(Date.now()+(1e3*(null===i||void 0===i?void 0:i.ENUM_TIME)||0)+1e4),f("done"),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),f("offline");case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}()():f("".concat(Math.ceil(u-Date.now()),"ms")))}),[e,r]),{status:x,data:y,setData:k}},O=(n(30),n(19)),h=n(13),x=n(20),f=n(14),p=n(22),m=n(21),y=n(9),k=n(11),g=function(e){var t=e.device,n=t.ip,i=t.type,r=t.seen;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)("div",{children:i}),Object(c.jsxs)("div",{children:["(last seen ",k.DateTime.fromMillis(r).toRelative(),")"]})]})},w=function(e){var t=e.device,n=t.ip,i=t.type;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)("div",{children:i}),Object(c.jsx)("div",{children:Object(c.jsx)("a",{href:"http://".concat(n),target:"_blank",rel:"noreferrer",children:"http"})})]})},N=function(e){var t=e.device,n=t.ip,i=t.type;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)("div",{children:i})]})},S=n(5),A=n(4),C=n.n(A),E=n(16),_=function(e){e.label;var t=e.value,n=e.total;return Object(c.jsx)(E.PieChart,{style:{width:50,height:50},startAngle:270,label:function(){return"".concat(Math.round(t/n*100),"%")},labelPosition:0,labelStyle:{fontSize:20,fontFamily:"sans-serif",fill:"#0ff"},lineWidth:20,totalValue:n,data:[{value:t,color:"#0FF"},{value:n-t,color:"#0FF3"}]})},U=function(e){var t=e;t>90&&(t=90),t<20&&(t=20);var n=80-60*((t-20)/70);return Math.floor(n)},M=function(e){var t=e.value;return Object(c.jsxs)("svg",{style:{width:50,height:50},viewBox:"0 0 100 100",children:[Object(c.jsx)("defs",{children:Object(c.jsxs)("mask",{id:"myMask",maskUnits:"userSpaceOnUse",children:[Object(c.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"white"}),Object(c.jsx)("circle",{cx:50,cy:80,r:20,fill:"black"})]})}),Object(c.jsx)("circle",{cx:50,cy:80,r:20,fill:"#0ff3"}),Object(c.jsx)("line",{x1:"50",y1:"15",x2:"50",y2:"80",stroke:"#0ff3",strokeWidth:"25",strokeLinecap:"round",mask:"url(#myMask)"}),Object(c.jsx)("circle",{cx:50,cy:80,r:10,fill:"#0ff"}),Object(c.jsx)("line",{x1:"50",y1:U(t),x2:"50",y2:80,stroke:"#0ff",strokeWidth:"8",strokeLinecap:"round"})]})},D=(n(32),function(e){var t=e.numerator,n=e.denominator;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"numerator",children:t}),Object(c.jsx)("div",{className:"denominator",children:n})]})}),F=(n(33),function(e){var t=e.header,n=e.CPU_USAGE,i=e.CPU_PROCESSES,r=e.CPU_TEMPERATURE,s=e.GPU_TEMPERATURE,l=e.RAM_USAGE,a=e.RAM_TOTAL,o=e.GPU_RAM_USAGE,j=e.GPU_RAM_TOTAL,d=e.DISK_USAGE,u=e.DISK_TOTAL;return Object(c.jsxs)("div",{className:"card-front",children:[t,Object(c.jsxs)("main",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"CPU"}),Object(c.jsx)(_,{value:n,total:100}),Object(c.jsxs)("div",{children:[i," proc"]})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"CPU"}),Object(c.jsx)(M,{value:r}),Object(c.jsxs)("div",{children:[r,"\xb0C"]})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"GFX"}),Object(c.jsx)(M,{value:s}),Object(c.jsxs)("div",{children:[s,"\xb0C"]})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"SYS RAM"}),Object(c.jsx)(_,{value:l,total:a}),Object(c.jsx)(D,{numerator:C()(l,10),denominator:C()(a,10)})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"GFX RAM"}),Object(c.jsx)(_,{value:o,total:j}),Object(c.jsx)(D,{numerator:C()(o,10),denominator:C()(j,10)})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"DISK"}),Object(c.jsx)(_,{value:d,total:u}),Object(c.jsx)(D,{numerator:C()(d,10),denominator:C()(u,10)})]})]})]})]})}),P=(n(34),function(e){var t=e.device.ip,n=v("http://".concat(t,":9009/sysinfo")),i=n.status,r=n.data;return Object(c.jsxs)(c.Fragment,{children:["status: ",i,"title: ",(null===r||void 0===r?void 0:r.HOST_NAME)||t,r&&Object(c.jsx)(F,Object(S.a)({header:""},r),"1")]})}),T=n(10),R=function(e){var t=e.value,n=e.onChange,i=e.onRelease,r=function(e){i(e.target.value)};return Object(c.jsx)("div",{style:{padding:"0 20px"},children:Object(c.jsx)("input",{type:"range",min:"0",max:"100",value:t,onChange:function(e){n(e.target.value)},onMouseUp:r,onTouchEnd:r,step:"1",style:{width:"100%"}})})},G=function(e){var t=e.state,n=e.buttons;return Object(c.jsx)(c.Fragment,{children:n[t]})},I=function(e){return e.split(":").reduce((function(e,t){return 60*e+ +t}))},L=function(e){return new Date(1e3*e).toISOString().substr(11,8)},z=function(e){var t=e.device.ip,n=v("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=status"),(function(e){return Object(S.a)(Object(S.a)(Object(S.a)({},e),(null===e||void 0===e?void 0:e.time)&&{elapsed:I(null===e||void 0===e?void 0:e.time.split(" ")[0])}),(null===e||void 0===e?void 0:e.time)&&{total:I(null===e||void 0===e?void 0:e.time.split(" ")[2])})})),i=(n.status,n.data),r=n.setData,s=function(){var e=Object(j.a)(o.a.mark((function e(n,c,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c&&r((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(T.a)({},c,"LOADING"))})),e.next=4,b()("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=").concat(n));case 4:c&&r((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(T.a)({},c,i))})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b()("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=set-volume&volume=").concat(n));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:null===i||void 0===i?void 0:i.display_name}),(null===i||void 0===i?void 0:i.player_state)?Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:null===i||void 0===i?void 0:i.title}),Object(c.jsx)("div",{children:null===i||void 0===i?void 0:i.time}),(null===i||void 0===i?void 0:i.elapsed)&&(null===i||void 0===i?void 0:i.total)&&Object(c.jsxs)("div",{children:[L(null===i||void 0===i?void 0:i.elapsed)," / ",L(null===i||void 0===i?void 0:i.total)," (",Math.round((null===i||void 0===i?void 0:i.elapsed)/(null===i||void 0===i?void 0:i.total)*100),"%)"]}),Object(c.jsx)("button",{onClick:function(){return s("rewind")},children:"rewind by 30 sec"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return s("mute")},children:"mute"}),Object(c.jsx)("button",{onClick:function(){return s("unmute")},children:"unmute"})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:["volume: ",null===i||void 0===i?void 0:i.volume,"%"]}),Object(c.jsx)(R,{value:(null===i||void 0===i?void 0:i.volume)||0,onChange:function(e){return r((function(t){return Object(S.a)(Object(S.a)({},t),{},{volume:e})}))},onRelease:l}),Object(c.jsxs)("div",{children:["muted: ","True"===(null===i||void 0===i?void 0:i.volume_muted)?"yes":"no"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(G,{state:null===i||void 0===i?void 0:i.player_state,buttons:{LOADING:Object(c.jsx)("button",{onClick:function(){},children:"Loading"}),PLAYING:Object(c.jsx)("button",{onClick:function(){return s("pause","player_state","PAUSED")},children:"pause"}),PAUSED:Object(c.jsx)("button",{onClick:function(){return s("play","player_state","PLAYING")},children:"play"})}}),Object(c.jsx)("button",{onClick:function(){return s("stop")},children:"stop"})]})]}):null,Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return s("cast")},children:"cast"})})]})},B=(n(35),function(e){var t=e.title,n=e.icon,i=e.onClickFlip;return Object(c.jsxs)("header",{children:[Object(c.jsx)("div",{className:"left",children:Object(c.jsx)(n,{size:"30"})}),Object(c.jsx)("div",{className:"right",children:Object(c.jsx)("button",{onClick:i,children:Object(c.jsx)(y.b,{size:"30"})})}),Object(c.jsx)("div",{className:"title",children:t})]})}),J=(n(17),n(36),n(18),n(37),function(e){var t=e.title,n=e.icon,r=e.children,s=Object(i.useState)(!1),l=Object(d.a)(s,2),a=l[0],o=l[1],j=Object(c.jsx)(B,{title:t,icon:n,onClickFlip:function(){return o(!a)}});return Object(c.jsx)("div",{className:"flip-card",children:Object(c.jsxs)("div",{className:"flip-card-inner ".concat(a?"is-flipped":""),children:[Object(c.jsxs)("div",{className:"flip-card-front",children:[j,r[0]]}),Object(c.jsxs)("div",{className:"flip-card-back",children:[j,r[1]]})]})})}),K=function(e){var t=e.info;return Object(c.jsx)("pre",{style:{textAlign:"left",overflow:"scroll",height:270,margin:0},children:JSON.stringify(t,null,"  ")})},W=function(e){var t=e.device,n=e.device,i=n.hostname,r=(n.ip,n.type),s={unknown:Object(c.jsxs)(J,{title:i,icon:O.a,children:[Object(c.jsx)(g,{device:t}),Object(c.jsx)(K,{info:t})]}),router:Object(c.jsxs)(J,{title:i,icon:h.b,children:[Object(c.jsx)(w,{device:t}),Object(c.jsx)(K,{info:t})]}),phone:Object(c.jsxs)(J,{title:i,icon:x.a,children:[Object(c.jsx)(N,{device:t}),Object(c.jsx)(K,{info:t})]}),airpurifier:Object(c.jsxs)(J,{title:i,icon:f.b,children:[Object(c.jsx)(g,{device:t}),Object(c.jsx)(K,{info:t})]}),robovac:Object(c.jsxs)(J,{title:"robovac",icon:h.a,children:[Object(c.jsx)(g,{device:t}),Object(c.jsx)(K,{info:t})]}),windows:Object(c.jsxs)(J,{title:i,icon:m.a,children:[Object(c.jsx)(g,{device:t}),Object(c.jsx)(K,{info:t})]}),sonoff:Object(c.jsxs)(J,{title:i,icon:p.a,children:[Object(c.jsx)(g,{device:t}),Object(c.jsx)(K,{info:t})]}),pi:Object(c.jsxs)(J,{title:i,icon:f.a,children:[Object(c.jsx)(P,{device:t}),Object(c.jsx)(K,{info:t})]}),chromecast:Object(c.jsxs)(J,{title:i,icon:y.a,children:[Object(c.jsx)(z,{device:t}),Object(c.jsx)(K,{info:t})]})};return s[r]||s.unknown},Y=function(){var e,t=v("http://192.168.0.40:8080/nmap"),n=t.status,i=t.data;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("h1",{children:"tinyman"})}),"server is ",null===i||void 0===i?void 0:i.status,", next check: ",n,Object(c.jsx)("main",{className:"App-main",children:null===i||void 0===i||null===(e=i.result)||void 0===e?void 0:e.map((function(e){return Object(c.jsx)(W,{device:e,type:e.type,ip:e.ip},"".concat(e.type,"@").concat(e.ip))}))})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Y,{})}),document.getElementById("root")),X()}},[[38,1,2]]]);
//# sourceMappingURL=main.6056113b.chunk.js.map