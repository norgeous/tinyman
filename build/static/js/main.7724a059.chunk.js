(this.webpackJsonptinyman=this.webpackJsonptinyman||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=26},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(2),r=n.n(i),s=n(11),a=n.n(s),l=(n(22),n(23),n(5)),o=n(3),j=n.n(o),d=n(6),u=n(8),b=n(7),O=n.n(b),v=function(e,t){var n=Object(i.useState)(0),c=Object(u.a)(n,2),r=c[0],s=c[1],a=Object(i.useState)(0),l=Object(u.a)(a,2),o=l[0],b=l[1],v=Object(i.useState)(null),h=Object(u.a)(v,2),x=h[0],f=h[1],p=Object(i.useState)(null),m=Object(u.a)(p,2),y=m[0],N=m[1];return Object(i.useEffect)((function(){if("offline"!==x){var e=setInterval((function(){s(Date.now())}),200);return function(){return clearInterval(e)}}}),[x]),Object(i.useEffect)((function(){["loading","offline"].includes(x)||(r>o?function(){var n=Object(d.a)(j.a.mark((function n(){var c,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f("loading"),n.next=4,O()(e);case 4:return c=n.sent,n.next=7,c.json();case 7:i=n.sent,N(t?t(i):i),b(Date.now()+(1e3*(null===i||void 0===i?void 0:i.ENUM_TIME)||0)+1e4),f("done"),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),f("offline");case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}()():f("".concat(Math.ceil(o-Date.now()),"ms")))}),[e,r]),{status:x,data:y,setData:N}},h=function(e){var t=e.title;return Object(c.jsx)("header",{children:Object(c.jsx)("h2",{className:"title",children:t})})},x=n(12),f=n.n(x),p=(n(25),n(13)),m=n(14),y=function(e){var t=e.status,n=e.children,r=Object(i.useState)(!1),s=Object(u.a)(r,2),a=s[0],l=s[1],o={default:Object(c.jsx)(c.Fragment,{children:t}),loading:Object(c.jsx)(p.a,{size:"20"}),error:Object(c.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:"error"})};return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"status",children:o[t]||o.default}),Object(c.jsx)("div",{className:"controls",children:Object(c.jsx)("button",{onClick:function(){return l(!a)},children:Object(c.jsx)(m.a,{size:"20"})})}),Object(c.jsx)(f.a,{isFlipped:a,children:n})]})},N=n(4),E=n.n(N),T=n(15),_=function(e){e.label;var t=e.value,n=e.total;return Object(c.jsx)(T.PieChart,{style:{width:50,height:50},startAngle:270,label:function(){return"".concat(Math.round(t/n*100),"%")},labelPosition:0,labelStyle:{fontSize:20,fontFamily:"sans-serif",fill:"#0ff"},lineWidth:20,totalValue:n,data:[{value:t,color:"#0FF"},{value:n-t,color:"#0FF3"}]})},S=function(e){var t=e;t>90&&(t=90),t<20&&(t=20);var n=80-60*((t-20)/70);return Math.floor(n)},k=function(e){var t=e.value;return Object(c.jsxs)("svg",{style:{width:50,height:50},viewBox:"0 0 100 100",children:[Object(c.jsx)("defs",{children:Object(c.jsxs)("mask",{id:"myMask",maskUnits:"userSpaceOnUse",children:[Object(c.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"white"}),Object(c.jsx)("circle",{cx:50,cy:80,r:20,fill:"black"})]})}),Object(c.jsx)("circle",{cx:50,cy:80,r:20,fill:"#0ff3"}),Object(c.jsx)("line",{x1:"50",y1:"15",x2:"50",y2:"80",stroke:"#0ff3",strokeWidth:"25",strokeLinecap:"round",mask:"url(#myMask)"}),Object(c.jsx)("circle",{cx:50,cy:80,r:10,fill:"#0ff"}),Object(c.jsx)("line",{x1:"50",y1:S(t),x2:"50",y2:80,stroke:"#0ff",strokeWidth:"8",strokeLinecap:"round"})]})},g=(n(27),function(e){var t=e.numerator,n=e.denominator;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"numerator",children:t}),Object(c.jsx)("div",{className:"denominator",children:n})]})}),A=(n(28),function(e){var t=e.header,n=e.CPU_USAGE,i=e.CPU_PROCESSES,r=e.CPU_TEMPERATURE,s=e.GPU_TEMPERATURE,a=e.RAM_USAGE,l=e.RAM_TOTAL,o=e.GPU_RAM_USAGE,j=e.GPU_RAM_TOTAL,d=e.DISK_USAGE,u=e.DISK_TOTAL;return Object(c.jsxs)("div",{className:"card-front",children:[t,Object(c.jsxs)("main",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"CPU"}),Object(c.jsx)(_,{value:n,total:100}),Object(c.jsxs)("div",{children:[i," proc"]})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"CPU"}),Object(c.jsx)(k,{value:r}),Object(c.jsxs)("div",{children:[r,"\xb0C"]})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"GFX"}),Object(c.jsx)(k,{value:s}),Object(c.jsxs)("div",{children:[s,"\xb0C"]})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"SYS RAM"}),Object(c.jsx)(_,{value:a,total:l}),Object(c.jsx)(g,{numerator:E()(a,10),denominator:E()(l,10)})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"GFX RAM"}),Object(c.jsx)(_,{value:o,total:j}),Object(c.jsx)(g,{numerator:E()(o,10),denominator:E()(j,10)})]}),Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsx)("h3",{children:"DISK"}),Object(c.jsx)(_,{value:d,total:u}),Object(c.jsx)(g,{numerator:E()(d,10),denominator:E()(u,10)})]})]})]})]})}),w=n(16),P=function(e){var t=e.ip,n=Object(i.useState)([]),r=Object(u.a)(n,2),s=r[0],a=r[1];if(Object(i.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()("http://".concat(t,":9009/list"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c),Array.isArray(c)&&a(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),0===s.length)return Object(c.jsx)(c.Fragment,{children:"[ no controls ]"});var l=function(){var e=Object(d.a)(j.a.mark((function e(n){var c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()("http://".concat(t,":9009/").concat(n));case 3:return c=e.sent,e.next=6,c.text();case 6:i=e.sent,alert(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return s.map((function(e){return Object(c.jsx)("button",{onClick:function(){return l(e)},children:e},e)}))},R=(n(29),function(e){var t=e.header,n=e.RAM_TOTAL,i=e.GPU_RAM_TOTAL,r=e.NET_LOCAL_IP,s=e.PI_VERSION,a=e.HOST_OS_PRETTY_NAME,l=e.HOST_KERNEL,o=e.HOST_START,j=e.HOST_USERS,d=e.NET_OPEN_PORTS,u=e.ENUM_TIME,b=e.NODE_V,O=e.NPM_V,v=e.NET_ETH_TX,h=e.NET_ETH_RX,x=e.NET_WLAN_TX,f=e.NET_WLAN_RX,p=e.DISK_READ,m=e.DISK_WRITTEN,y=e.ip;return Object(c.jsxs)("div",{className:"card-back",children:[t,Object(c.jsxs)("footer",{children:[Object(c.jsx)("div",{children:r}),Object(c.jsxs)("div",{children:["Raspberry Pi ",s]}),Object(c.jsxs)("div",{children:["total RAM: ",E()(n+i,10)]}),Object(c.jsx)(P,{ip:y}),Object(c.jsx)("div",{children:a}),Object(c.jsxs)("div",{children:["kernel: ",l]}),Object(c.jsx)("div",{children:o}),Object(c.jsxs)("div",{children:["(started ",w.DateTime.fromFormat(o,"yyyy-MM-dd HH:mm:ss").toRelative(),")"]}),Object(c.jsxs)("div",{children:[j," user(s)"]}),Object(c.jsxs)("div",{children:["open ports: ",d]}),Object(c.jsxs)("div",{children:["last enum: ",u]}),b?Object(c.jsxs)("div",{children:["node: ",b,", npm: ",O]}):null,v||h?Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsxs)("div",{children:["ETHERNET \u2b06\ufe0f ",E()(v,10)]}),Object(c.jsxs)("div",{children:["ETHERNET \u2b07\ufe0f ",E()(h,10)]})]}):null,x||f?Object(c.jsxs)("div",{className:"tile",children:[Object(c.jsxs)("div",{children:["WIFI \u2b06\ufe0f ",E()(x,10)]}),Object(c.jsxs)("div",{children:["WIFI \u2b07\ufe0f ",E()(f,10)]})]}):null,Object(c.jsxs)("div",{children:["read: ",p?E()(p,10):"?"]}),Object(c.jsxs)("div",{children:["written: ",m?E()(m,10):"?"]})]})]})}),M=function(e){var t=e.ip,n=v("http://".concat(t,":9009/sysinfo")),i=n.status,r=n.data,s=Object(c.jsx)(h,{title:(null===r||void 0===r?void 0:r.HOST_NAME)||t});return Object(c.jsx)(y,{status:i,children:r?[Object(c.jsx)(A,Object(l.a)({header:s},r),"1"),Object(c.jsx)(R,Object(l.a)(Object(l.a)({header:s},r),{},{ip:t}),"2")]:[Object(c.jsxs)("div",{className:"card-front",children:[s,"no data"]},"1"),Object(c.jsxs)("div",{className:"card-front",children:[s,"no data"]},"2")]})},C=n(9),U=function(e){var t=e.value,n=e.onChange,i=e.onRelease,r=function(e){i(e.target.value)};return Object(c.jsx)("div",{style:{padding:"0 20px"},children:Object(c.jsx)("input",{type:"range",min:"0",max:"100",value:t,onChange:function(e){n(e.target.value)},onMouseUp:r,onTouchEnd:r,step:"1",style:{width:"100%"}})})},I=function(e){var t=e.state,n=e.buttons;return Object(c.jsx)(c.Fragment,{children:n[t]})},D=function(e){return e.split(":").reduce((function(e,t){return 60*e+ +t}))},F=function(e){return new Date(1e3*e).toISOString().substr(11,8)},L=function(e){var t=e.ip,n=v("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=status"),(function(e){return Object(l.a)(Object(l.a)(Object(l.a)({},e),(null===e||void 0===e?void 0:e.time)&&{elapsed:D(null===e||void 0===e?void 0:e.time.split(" ")[0])}),(null===e||void 0===e?void 0:e.time)&&{total:D(null===e||void 0===e?void 0:e.time.split(" ")[2])})})),i=n.status,r=n.data,s=n.setData,a=function(){var e=Object(d.a)(j.a.mark((function e(n,c,i){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c&&s((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(C.a)({},c,"LOADING"))})),e.next=4,O()("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=").concat(n));case 4:c&&s((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(C.a)({},c,i))})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()("http://192.168.0.40:9009/chromecast?ip=".concat(t,"&action=set-volume&volume=").concat(n));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),u=Object(c.jsx)(h,{title:"chromecast: ".concat((null===r||void 0===r?void 0:r.name)||t)});return Object(c.jsxs)(y,{status:i,children:[Object(c.jsxs)("div",{style:{background:"#f0f"},children:[u,Object(c.jsx)("div",{children:null===r||void 0===r?void 0:r.display_name}),(null===r||void 0===r?void 0:r.player_state)?Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:null===r||void 0===r?void 0:r.title}),Object(c.jsx)("div",{children:null===r||void 0===r?void 0:r.time}),(null===r||void 0===r?void 0:r.elapsed)&&(null===r||void 0===r?void 0:r.total)&&Object(c.jsxs)("div",{children:[F(null===r||void 0===r?void 0:r.elapsed)," / ",F(null===r||void 0===r?void 0:r.total)," (",Math.round((null===r||void 0===r?void 0:r.elapsed)/(null===r||void 0===r?void 0:r.total)*100),"%)"]}),Object(c.jsx)("button",{onClick:function(){return a("rewind")},children:"rewind by 30 sec"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return a("mute")},children:"mute"}),Object(c.jsx)("button",{onClick:function(){return a("unmute")},children:"unmute"})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:["volume: ",null===r||void 0===r?void 0:r.volume,"%"]}),Object(c.jsx)(U,{value:(null===r||void 0===r?void 0:r.volume)||0,onChange:function(e){return s((function(t){return Object(l.a)(Object(l.a)({},t),{},{volume:e})}))},onRelease:o}),Object(c.jsxs)("div",{children:["muted: ","True"===(null===r||void 0===r?void 0:r.volume_muted)?"yes":"no"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(I,{state:null===r||void 0===r?void 0:r.player_state,buttons:{LOADING:Object(c.jsx)("button",{onClick:function(){},children:"Loading"}),PLAYING:Object(c.jsx)("button",{onClick:function(){return a("pause","player_state","PAUSED")},children:"pause"}),PAUSED:Object(c.jsx)("button",{onClick:function(){return a("play","player_state","PLAYING")},children:"play"})}}),Object(c.jsx)("button",{onClick:function(){return a("stop")},children:"stop"})]})]}):null,Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return a("cast")},children:"cast"})})]}),Object(c.jsxs)("div",{children:[u,Object(c.jsx)("pre",{children:JSON.stringify(r,null,"  ")})]})]})},G=function(e){var t=e.ip,n=v("http://192.168.0.40:9009/sonoff?ip=".concat(t,"&action=status")),i=n.status,r=n.data,s=Object(c.jsx)(h,{title:"sonoff: ".concat((null===r||void 0===r?void 0:r.Status.FriendlyName[0])||t)});return Object(c.jsxs)(y,{status:i,children:[Object(c.jsxs)("div",{className:"card-front",style:{background:"#f0f"},children:[s,Object(c.jsxs)("div",{children:["Power: ",null===r||void 0===r?void 0:r.Status.Power]}),Object(c.jsx)("button",{onClick:Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()("http://192.168.0.40:9009/sonoff?ip=".concat(t,"&action=Power%20TOGGLE"));case 2:case"end":return e.stop()}}),e)}))),children:"toggle"})]},"1"),Object(c.jsxs)("div",{className:"card-front",children:[s,Object(c.jsx)("pre",{children:JSON.stringify(r,null,"  ")})]},"2")]})},H=function(e){var t=e.type,n=e.ip;return{default:Object(c.jsxs)(c.Fragment,{children:["unknown type ",t," for ",n]}),"pi/tinyman":Object(c.jsx)(M,{ip:n}),chromecast:Object(c.jsx)(L,{ip:n}),sonoff:Object(c.jsx)(G,{ip:n})}[t]||t.default},W=[{type:"chromecast",ip:"192.168.0.243"},{type:"sonoff",ip:"192.168.0.201"},{type:"sonoff",ip:"192.168.0.202"},{type:"pi/tinyman",ip:"192.168.0.100"},{type:"pi/tinyman",ip:"192.168.0.40"},{type:"pi/tinyman",ip:"192.168.0.13"},{type:"pi/tinyman",ip:"192.168.0.150"},{type:"pi/tinyman",ip:"192.168.0.200"},{type:"pi/tinyman",ip:"192.168.0.190"}],K=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("h1",{children:"tinyman"})}),Object(c.jsx)("main",{className:"App-main",children:W.map((function(e){var t=e.type,n=e.ip;return Object(c.jsx)(H,{type:t,ip:n},"".concat(t,"@").concat(n))}))})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(K,{})}),document.getElementById("root")),X()}},[[30,1,2]]]);
//# sourceMappingURL=main.7724a059.chunk.js.map